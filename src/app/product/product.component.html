
<div class="container">
  <br>
  <div class="header">
    <div class="d-flex justify-content-between align-items-center">
      <h2 class="title text-white">{{ stock.title }} : Product List</h2>
      <div>
        <span class="badge badge-pill badge-secondary">{{ data.length }} Item(s)</span>
        <button class="btn btn-success ml-2" (click)="open(mymodal)" title="Add Item">Add New</button>
      </div>
    </div>
  </div>
  <hr class="hr-white">





  <!-- Modal -->
  <ng-template #mymodal let-modal>
    <div class="modal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h4 class="modal-title">Add New Product</h4>
            <button type="button" class="close" aria-label="Close" (click)="modal.dismiss('Cross click')">
              <span aria-hidden="true">Ã—</span>
            </button>
          </div>
          <div class="modal-body">
            <form>
              <div class="form-group">
                <label for="productName">Product Name</label>
                <input type="text" class="form-control" id="productName" placeholder="Enter Product Name" [(ngModel)]="product.title" [ngModelOptions]="{ standalone: true }">
              </div>

              <div class="form-group">
                <label for="category">Category</label>
                <select class="form-control" id="category" [(ngModel)]="product.category" [ngModelOptions]="{ standalone: true }">
                  <option value="ELECTRONICS">Electronics</option>
                  <option value="CLOTHING">Clothing</option>
                  <option value="BOOKS">Books</option>
                </select>
              </div>

              <div class="form-group">
                <label for="price">Price</label>
                <input type="number" class="form-control" id="price" placeholder="Enter Price" [(ngModel)]="product.price" [ngModelOptions]="{ standalone: true }" min="0">
              </div>

              <div class="form-group">
                <label for="quantity">Quantity</label>
                <input type="number" class="form-control" id="quantity" placeholder="Enter Quantity" [(ngModel)]="product.quantity" [ngModelOptions]="{ standalone: true }" min="0">
              </div>

              <div class="modal-footer">
                <button type="button" class="btn btn-primary" (click)="addProduct(product); modal.close('Save click')">Add</button>
                <button type="button" class="btn btn-secondary" (click)="modal.close('Cancel click')">Cancel</button>
              </div>
            </form>
          </div>
        </div>
      </div>
    </div>
  </ng-template>

  <!-- Product List -->
  <div class="cards">
    <div class="row">
      <div class="col-md-4" *ngFor="let item of data">
        <div class="card">
          <div class="card-header">
            <h3 class="card-title">{{ item.title }}</h3>
            <button class="btn btn-danger btn-sm float-right" title="Delete Product" (click)="deleteItem(item.idProduct)">Delete</button>
          </div>
          <div class="card-body">
            <p class="card-text">Category: {{ item.category }}</p>
            <p class="card-text">Quantity: {{ item.quantity }} | Price: {{ item.price }} $</p>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
